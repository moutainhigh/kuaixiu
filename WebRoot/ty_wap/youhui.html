<!doctype html><html lang="zh-CN"><head>    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">    <meta charset="UTF-8" />    <title>首页</title>    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">    <meta name="apple-touch-fullscreen" content="yes">    <meta name="full-screen" content="yes">    <meta name="apple-mobile-web-app-capable" content="yes">    <meta name="apple-mobile-web-app-status-bar-style" content="white">    <meta name="format-detection" content="telephone=no" />    <meta name="format-detection" content="address=no">    <link rel="stylesheet" type="text/css" href="css1/style.css" /></head><body>    <div class="youhui">        <ul class="list" id="list">             <!--<li>                <img src="./img1/bg.png" alt="">                <div class="main">                    <div class="left">                        <div class="money"><span class="price">￥200元 </span><span class="info">优惠卷</span></div>                        <div class="tips">仅限购买iPhone11 Pro(256G)使用<br>券码：agegghg</div>                    </div>                    <div class="right">                        <div class="btn">复制<br>使用</div>                        <div class="time">截止2019年12月15日</div>                    </div>                </div>            </li>            <li>                <img src="./img1/bg.png" alt="">                <div class="main">                    <div class="left">                        <div class="money"><span class="price">￥200元 </span><span class="info">优惠卷</span></div>                        <div class="tips">仅限购买华为mate30 4G版（8G+128G）使用<br>券码：agegghg</div>                    </div>                    <div class="right">                        <div class="btn">复制<br>使用</div>                        <div class="time">截止2019年12月15日</div>                    </div>                </div>            </li>            <li>                <img src="./img1/bg.png" alt="">                <div class="main">                    <div class="left">                        <div class="money"><span class="price">￥200元 </span><span class="info">优惠卷</span></div>                        <div class="tips">仅限购买华为麦芒8使用<br>券码：agegghg</div>                    </div>                    <div class="right">                        <div class="btn">复制<br>使用</div>                        <div class="time">截止2019年12月15日</div>                    </div>                </div>            </li>            <li>                <img src="./img1/bg.png" alt="">                <div class="main">                    <div class="left">                        <div class="money"><span class="price">￥200元 </span><span class="info">优惠卷</span></div>                        <div class="tips">鱼卡首月体验金</div>                    </div>                    <div class="right">                        <div class="btn">复制<br>使用</div>                        <div class="time">截止2019年12月15日</div>                    </div>                </div>            </li>-->        </ul>        <div id="mask">            <div class="window">                <div class="maskClose" onclick="colsePopup()">×</div>                <div class="code"></div>                <div class="success" onclick="typeFun()">复制成功，去使用</div>            </div>        </div>    </div>    <script src="js/jquery.js"></script>    <!--<script src="./css1/jq.js"></script>-->    <script src="js/swiper.min.js"></script>    <script src="js/common.js"></script>    <script src="js/util.js"></script>    <script>        //获取初始化的数据        var list ='';        $(function (){            //console.log('sss')            var data={                userMobile:eCacheUtil.storage.getCache(CacheKey.loginPhone)            }            $.post(linkUrl+'/newTamps/queryList.do',{params:JSON.stringify(data)},            function(data){                //Countdown($("#getCodeBtn").get(0),60)                if(data.success) {                    //console.log(data.result.list);                    if(data.result.list==0){                        var cardString = '<div class="text">\n' +                            '            卡包中不存在优惠券哦！\n' +                            '        </div>'                        //document.body.innerHTML = cardString;                        $('#list').html(cardString);                    }else{                        data.result.list.forEach(function (item,index) {                            if(item.grade=='3'){                                item.name="仅限购买三星 A90 5G使用";                                item.price="400";                                item.quanCode='券码：'+item.couponId;                                item.copyFont="复制<br>使用";                            }else if(item.grade=='4'){                                item.name="鱼卡首月体验金";                                item.price="20";                                item.quanCode='';                                item.copyFont="立即<br>使用";                            }else if(item.grade=='2'){                                item.name="仅限购买华为 P30使用";                                item.price="500";                                item.quanCode='券码：'+item.couponId;                                item.copyFont="复制<br>使用";                            }else if(item.grade=='1'){                                item.name="仅限购买iPhone11 Pro(256G)使用";                                item.price="400";                                item.quanCode='券码：'+item.couponId;                                item.copyFont="复制<br>使用";                            }                            list+='<li>';                            list+='<img src="./img1/bg.png" alt="">';                            list+='<div class="main">';                            list+='<div class="left">';                            list+='<div class="money"><span class="price">￥'+item.price+'元 </span><span class="info">优惠卷</span></div>';                            list+='<div class="tips">'+item.name+'<br>'+item.quanCode+'</div>';                            list+='</div>';                            list+='<div class="right">';                            list+=`<div class="btn" onClick="copyFun('${item.couponId}','${item.grade}')">${item.copyFont}</div>`;                            list+='<div class="time">截止2020年1月15日</div>';                            list+='</div>';                            list+='</div>';                            list+='</li>';                        })                        $('#list').html(list);                    }                }else {                    alertTip(data.resultMessage);                }                // {"success":false,"resultMessage":"系统异常请稍后再试","msg":null,"resultCode":"5","result":null}            })//        })        /*function getData() {            console.log('s')            let res = ''            $.ajax({                url: '',                type: "post",                data: {},                async: false,                success: function (data) {                    res = data;                }            })            return res        }*/        //初始化的自调用事件        /*(function () {            // let arr=[]            // arr=getData()            let listEl = $('.list')            let arr = [{ money: 200, code: '12323121', num: 1, time: '截止2019年12月15日' }, { money: 200, code: null, num: 2, time: '截止2019年12月15日' }, { money: 200, code: '123', num: 3, time: '截止2019年12月15日' }]            let tpl = ''            arr.forEach(el => {                let showEl = 'block'                if (!el.code) {                    showEl = 'none'                }                switch (el.num) {                    case 1:                        el.msg = '仅限购买华为麦芒8使用'                        break;                    case 2:                        el.msg = '鱼卡首月体验金'                        break;                    case 3:                        el.msg = '仅限购买华为mate30 4G版（8G+128G）使用'                        break;                    case 4:                        el.msg = '仅限购买iPhone11 Pro(256G)使用'                        break;                }                tpl += `<li>                <img src="./img1/bg.png" alt="">                <div class="main">                    <div class="left">                        <div class="money"><span class="price">￥${el.money}元 </span><span class="info">优惠卷</span></div>                        <div class="tips">${el.msg}<br><span style="display:${showEl}">券码：${el.code}</span></div>                    </div>                    <div class="right">                        <div class="btn" onClick="copy('${el.code}','${el.num}')">复制<br>使用</div>                        <div class="time">${el.time}</div>                    </div>                </div>            </li>`            });            listEl.append(tpl)        })()*/        //复制的事件        var typeCode=''        function copyFun(str, type) {            typeCode=type;            if (type == 4) {                window.location.href = 'https://zj.189.cn/zjcard/wap/zjdx/zjdx.html?qd=yjhx'            } else {                var oInput = document.createElement('input')                oInput.value = str                document.body.appendChild(oInput)                oInput.select()                document.execCommand("Copy")                oInput.style.display = 'none'                document.body.removeChild(oInput)                //$('#mask').css('display','flex')                $('#mask').show();                $('.code').html('劵码：'+str)                //typeFun(type);            }        }        function colsePopup() {            $('#mask').hide();        }        function typeFun() {            var Purl=''            var str=''            //console.log(typeCode)            switch(typeCode){                case '1':                    str ='iPhone 11 Pro'                    Purl='http://wapzj.189.cn/mall/ywz2982681201/'                    break;                case '2':                    str ='华为 Mate30 '                    Purl='http://wapzj.189.cn/mall/ywz2982681642/'                    break;                case '3':                    str ='华为麦芒8 '                    Purl='http://wapzj.189.cn/mall/ywz2982681987/'                    break;            }            window.location.href=Purl        }    </script></body></html>